!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("iz",[],r):"object"==typeof exports?exports.iz=r():t.iz=r()}(window,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)e.d(n,i,function(r){return t[r]}.bind(null,i));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=3)}([function(t,r,e){"use strict";function n(t,r,e,n,i,o){var u=!i(e),c=!i(n);return u!==c?(r?u:c)?-1:1:u?0:t?o(e,n):o(n,e)}function i(t,r,e,n){var i=!e(t);return i===!e(r)&&(!!i||n(t,r))}function o(t,r){void 0===t&&(t=!0),void 0===r&&(r=!1);var e=function(t){return"number"==typeof t&&isFinite(t)},i=function(t,r){return t-r};return function(o,u){return n(t,r,o,u,e,i)}}function u(t,r,e){void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===e&&(e=!1);var i=function(t){return"string"==typeof t},o=t?function(t,r){return t.localeCompare(r)}:function(t,r){return t.toLowerCase().localeCompare(r.toLowerCase())};return function(t,u){return n(r,e,t,u,i,o)}}function c(t,r){void 0===t&&(t=!0),void 0===r&&(r=!1);var e=function(t){return t instanceof Date},i=function(t,r){return t.getTime()-r.getTime()};return function(o,u){return n(t,r,o,u,e,i)}}function a(t,r){void 0===t&&(t=1),void 0===r&&(r=!0);var e=function(t){return t instanceof Date},n=r?function(t){return t.getTime()}:function(t){return t.getTime()+6e4*t.getTimezoneOffset()},o=function(r,e){return n(r)%t==n(e)%t};return function(t,r){return i(t,r,e,o)}}e.d(r,"a",function(){return n}),e.d(r,"b",function(){return i}),e.d(r,"e",function(){return o}),e.d(r,"f",function(){return u}),e.d(r,"c",function(){return c}),e.d(r,"d",function(){return a})},function(t,r){},function(t,r,e){"use strict";e.d(r,"a",function(){return c});var n=e(0),i=function(t,r){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,i,o=e.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(n=o.next()).done;)u.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return u},o=function(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(i(arguments[r]));return t},u=function(t){var r="function"==typeof Symbol&&t[Symbol.iterator],e=0;return r?r.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},c=function(){function t(t,r){this.result=null,this.source=t,r&&(this.equality=r.equality,this.comparator=r.comparator)}return t.prototype.clone=function(){return new t(this.source,this)},t.prototype.act=function(t,r){return this.action=0,this.replaceWith=null,this.callback(t,r,this),this.action},t.prototype.stop=function(t){return this.result=t,this.action=1,this},t.prototype.isStopped=function(){return 1===this.action},t.prototype.replace=function(t){return this.replaceWith=t,this.action=3,this},t.prototype.remove=function(){return this.action=2,this},t.prototype.withEquality=function(t){return this.equality=t,this},t.prototype.withComparator=function(t){return this.comparator=t,this.equality||(this.equality=function(r,e){return 0===t(r,e)}),this},t.prototype.withLogic=function(t,r){return this.comparator=t,this.equality=r||function(r,e,n,i){return 0===t(r,e,n,i)},this},t.prototype.numbers=function(t,r){return void 0===t&&(t=!0),void 0===r&&(r=!1),this.withLogic(Object(n.e)(t,r))},t.prototype.strings=function(t,r,e){return void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===e&&(e=!1),this.withLogic(Object(n.f)(t,r,e))},t.prototype.dates=function(t,r,e,i){return void 0===t&&(t=1),void 0===r&&(r=!0),void 0===e&&(e=!0),void 0===i&&(i=!1),this.withLogic(Object(n.c)(e,i),Object(n.d)(t,r))},t.prototype.desc=function(t){var r=t||this.comparator;return this.comparator=function(t,e,n,i){return r(e,t,i,n)},this},t.prototype.getEquality=function(r){return r||this.equality||t.EQUALS_STRICT},t.prototype.getComparator=function(t){var r=t||this.comparator;if(!r)throw new Error("A comparator is required for the requested action");return r},t.prototype.empty=function(){return!this.iterate(function(t,r,e){return e.stop()}).isStopped()},t.prototype.has=function(){return this.iterate(function(t,r,e){return e.stop()}).isStopped()},t.prototype.contains=function(t,r){var e=this;return this.where(function(n,i){return e.getEquality(r)(t,n,void 0,i)}).has()},t.prototype.count=function(){var t=0;return this.iterate(function(){return t++}),t},t.prototype.first=function(){return this.iterate(function(t,r,e){return e.stop(t)}).result},t.prototype.last=function(){var t=null;return this.iterate(function(r){return t=r}),t},t.prototype.array=function(t){return void 0===t&&(t=[]),this.iterate(function(r){return t.push(r)}),t},t.prototype.entries=function(t){return void 0===t&&(t=[]),this.iterate(function(r,e){return t.push([e,r])}),t},t.prototype.object=function(t,r){return void 0===r&&(r=Object.create(null)),this.iterate(function(e){return r[t(e)]=e}),r},t.prototype.set=function(t){return void 0===t&&(t=new Set),this.iterate(function(r){return t.add(r)}),t},t.prototype.map=function(t){return void 0===t&&(t=new Map),this.iterate(function(r,e){return t.set(e,r)}),t},t.prototype.group=function(t,r){return void 0===r&&(r=Object.create(null)),this.iterate(function(e){var n=t(e);n in r?r[n].push(e):r[n]=[e]}),r},t.prototype.reduce=function(t,r){var e=t;return this.iterate(function(t){return e=r(t,e)}),e},t.prototype.min=function(t){var r=this.getComparator(t);return this.reduce(null,function(t,e){return null===e||r(t,e)<0?t:e})},t.prototype.max=function(t){var r=this.getComparator(t);return this.reduce(null,function(t,e){return null===e||r(t,e)>0?t:e})},t.prototype.delete=function(){return this.iterate(function(t,r,e){return e.remove()})},t.prototype.extract=function(){var r=[];return this.iterate(function(t,e,n){return r.push([e,t])&&n.remove()}),t.entries(r)},t.prototype.overwrite=function(t){return this.iterate(function(r,e,n){return n.replace(t)})},t.prototype.sub=function(t){return t(this),this},t.prototype.split=function(t,r){var e=this.where(t),n=this.not(t);return r?(r(e,n),this):{pass:e,fail:n}},t.prototype.unzip=function(t){var r=this.keys(),e=this.values();return t?(t(r,e),this):{keys:r,values:e}},t.prototype.keys=function(){var r=this;return new t(function(t){var e=0;r.iterate(function(r,n,i){switch(t.act(n,e++)){case 1:i.stop();break;case 2:i.remove()}})})},t.prototype.values=function(){var r=this;return new t(function(t){r.iterate(function(r,e,n){var i=0;switch(t.act(r,i++)){case 1:n.stop();break;case 2:n.remove();break;case 3:n.replace(t.replaceWith)}})},this)},t.prototype.view=function(r,e,n,i){var o=this;return new t(function(t){var u=r();o.iterate(function(r,o,c){if(e(u,r,o)){switch(t.act(r,o)){case 1:c.stop();break;case 2:c.remove();break;case 3:c.replace(t.replaceWith)}n&&n(u,r,o,c)}else i&&i(u,r,o,c)})},this)},t.prototype.take=function(r){return r<=0?t.empty():this.view(function(){return{amount:r}},function(t){return t.amount>0},function(t){return t.amount--},function(t,r,e,n){return n.stop()})},t.prototype.skip=function(t){return this.view(function(){return{skipped:0}},function(r){return r.skipped>=t},function(t){return t.skipped++},function(t){return t.skipped++})},t.prototype.drop=function(t){return this.reverse().skip(t).reverse()},t.prototype.append=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return t.join.apply(t,o([this],r))},t.prototype.prepend=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return t.join.apply(t,o(r,[this]))},t.prototype.where=function(t){return this.view(function(){return null},function(r,e,n){return t(e,n)})},t.prototype.not=function(t){return this.view(function(){return null},function(r,e,n){return!t(e,n)})},t.prototype.gt=function(t,r){var e=this;return this.view(function(){return e.getComparator(r)},function(r,e,n){return r(e,t,n)>0})},t.prototype.gte=function(t,r){var e=this;return this.view(function(){return e.getComparator(r)},function(r,e,n){return r(e,t,n)>=0})},t.prototype.lt=function(t,r){var e=this;return this.view(function(){return e.getComparator(r)},function(r,e,n){return r(e,t,n)<0})},t.prototype.lte=function(t,r){var e=this;return this.view(function(){return e.getComparator(r)},function(r,e,n){return r(e,t,n)<=0})},t.prototype.exclude=function(t,r){var e=this;return this.view(function(){return e.getEquality(r)},function(r,e){return!t.contains(e,r)})},t.prototype.intersect=function(t,r){var e=this;return this.view(function(){return e.getEquality(r)},function(r,e){return t.contains(e,r)})},t.prototype.unique=function(t){var r=this;return this.view(function(){return{existing:[],isEqual:r.getEquality(t)}},function(t,r,e){var n=t.existing,o=t.isEqual;return-1===n.findIndex(function(t){var n=i(t,2),u=n[0],c=n[1];return o(c,r,u,e)})},function(t,r,e){return t.existing.push([e,r])})},t.prototype.duplicates=function(t,r){var e=this;return void 0===t&&(t=!1),this.view(function(){return{existing:[],once:[],isEqual:e.getEquality(r)}},function(r,e,n){var o=r.existing,u=r.once,c=r.isEqual,a=o.findIndex(function(t){var r=i(t,2),o=r[0],u=r[1];return c(u,e,o,n)}),f=-1!==a;return f?(u[a]&&t&&(f=!1),u[a]=!0):o.push([n,e]),f})},t.prototype.readonly=function(){var r=this;return new t(function(t){r.iterate(function(r,e,n){1===t.act(r,e)&&n.stop()})},this)},t.prototype.copy=function(){return t.entries(this.entries())},t.prototype.viewResolved=function(r){var e=this;return new t(function(t){var n=e.entries(),i=[],o=[],u=[],c=!1;if(r(n,function(r,e,n){var a=t.act(r,e);return 3!==a&&2!==a||(c=!0,u[n]=r,i[n]=a,o[n]=t.replaceWith),a}),c){var a=0;e.iterate(function(t,r,e){switch(i[a]){case 2:t===u[a]&&e.remove();break;case 3:t===u[a]&&e.replace(o[a])}a++})}},this)},t.prototype.sorted=function(t){var r=this;return this.viewResolved(function(e,n){var o,c,a=r.getComparator(t),f=e.map(function(t,r){var e=i(t,2);return{key:e[0],value:e[1],index:r}});f.sort(function(t,r){return a(t.value,r.value)});try{for(var s=u(f),p=s.next();!p.done;p=s.next()){var l=p.value,h=l.key;if(1===n(l.value,h,l.index))return}}catch(t){o={error:t}}finally{try{p&&!p.done&&(c=s.return)&&c.call(s)}finally{if(o)throw o.error}}})},t.prototype.shuffle=function(t){void 0===t&&(t=1);var r=function(t,r,e){var n=t[r];t[r]=t[e],t[e]=n};return this.viewResolved(function(e,n){for(var o=[],u=e.length,c=0;c<u;c++)o.push(c);for(var a=0;a<t;a++)for(var f=0;f<u;f++){var s=Math.floor(Math.random()*u);r(e,s,f),r(o,s,f)}for(c=0;c<u;c++){var p=i(e[c],2),l=p[0];if(1===n(p[1],l,o[c]))return}})},t.prototype.reverse=function(){return this.viewResolved(function(t,r){for(var e=t.length-1;e>=0;e--){var n=i(t[e],2),o=n[0];if(1===r(n[1],o,e))return}})},t.prototype.transform=function(r,e){var n=this;return void 0===e&&(e=null),new t(function(t){n.iterate(function(n,i,o){var u=r(n,i,o);if(void 0!==u)switch(t.act(u,i)){case 1:o.stop();break;case 2:o.remove();break;case 3:e&&o.replace(e(t.replaceWith,u,n,i))}})})},t.prototype.iterate=function(t){return this.result=void 0,this.callback=t,this.action=0,this.source(this),this.callback=null,this},t.prototype.withResult=function(t){return this.result&&t(this.result),this},t.prototype[Symbol.iterator]=function(){return this.array().values()},t.entries=function(r){return new t(function(t){for(var e=0;e<r.length;e++){var n=i(r[e],2),o=n[0],u=n[1];switch(t.act(u,o)){case 1:return;case 2:r.splice(e,1),e--;break;case 3:r.splice(e,1,[o,t.replaceWith])}}})},t.array=function(r){return new t(function(t){for(var e=0;e<r.length;e++)switch(t.act(r[e],e)){case 1:return;case 2:r.splice(e,1),e--;break;case 3:r.splice(e,1,t.replaceWith)}})},t.zip=function(r,e){return new t(function(t){var n=r.array(),i=[],o=0;if(e.iterate(function(r,e,u){if(o>=n.length)u.stop();else switch(t.act(r,n[o])){case 1:return;case 2:u.remove(),i.push(o);break;case 3:u.replace(t.replaceWith)}o++}),i.length>0){var u=0;r.iterate(function(t,r,e){u===i[0]?(e.remove(),i.shift()):0===i.length&&e.stop(),u++})}})},t.hasEntries=function(r,e,n){return new t(function(t){for(var o=r.entries(),u=o.next();!u.done;u=o.next()){var c=i(u.value,2),a=c[0],f=c[1];switch(t.act(f,a)){case 1:return;case 2:e&&e(r,a,f);break;case 3:n&&n(r,a,f,t.replaceWith)}}})},t.map=function(r){return t.hasEntries(r,function(t,r){return t.delete(r)},function(t,r,e,n){return t.set(r,n)})},t.set=function(r){return t.hasEntries(r,function(t,r){return t.delete(r)},function(t,e,n,i){return r.delete(n)&&r.add(i)})},t.iterable=function(r){return new t(function(t){for(var e=r[Symbol.iterator](),n=0,i=e.next();!i.done&&1!==t.act(i.value,n);i=e.next(),n++);})},t.object=function(r,e){return void 0===e&&(e=!0),new t(function(t){for(var n in r)if(!e||r.hasOwnProperty(n))switch(t.act(r[n],n)){case 1:return;case 2:delete r[n];break;case 3:r[n]=t.replaceWith}})},t.linked=function(r,e,n,i,o){return o||(o=function(t){return r(t)}),function(u,c,a){return void 0===a&&(a=!0),new t(function(t){for(var f=c,s=u;s&&s!==c;){var p=e(s),l=!1;switch(t.act(r(s),o(s))){case 1:return;case 2:if(n)s===u&&(u=p),n(s,f),l=!0;else if(a)throw new Error("remove is required for linked list iteration");break;case 3:if(i)i(s,t.replaceWith);else if(a)throw new Error("replace is required for linked list iteration")}l||(f=s),s=p}})}},t.tree=function(r,e,n,i){i||(i=function(t){return r(t)});var o=t.empty(),u=function(r){var n=e(r);return n?Array.isArray(n)?t.array(n):n:o},c=function(t,e,o,u,c){switch(e.act(r(t),i(t))){case 1:return c&&c.stop(),!1;case 3:if(n)n(t,e.replaceWith);else if(o)throw new Error("replaceValue is required when replacing a value in a tree");break;case 2:if(c)c.remove();else if(o&&u)throw new Error("remove is not supported for breadth-first iteration")}return!0},a=function(t,r,e,n){return!!c(t,r,e,!1,n)&&!u(t).iterate(function(t,n,i){return a(t,r,e,i)}).isStopped()};return function(r,e,n){return void 0===e&&(e=!0),void 0===n&&(n=!0),new t(function(t){return e?a(r,t,n):function(t,r,e){var n=[];for(n.push(t);n.length>0;){var i=n.shift();if(!c(i,r,e,!0))break;u(i).array(n)}}(r,t,n)})}},t.join=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return new t(function(t){var e,n;try{for(var i=u(r),o=i.next();!o.done;o=i.next()){var c=o.value;if(c.iterate(function(r,e,n){switch(t.act(r,e)){case 2:n.remove();break;case 1:n.stop();break;case 3:n.replace(t.replaceWith)}}),1===c.action)return}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}})},t.empty=function(){return new t(function(t){})},t.EQUALS_STRICT=function(t,r){return t===r},t.EQUALS_LOOSE=function(t,r){return t==r},t}()},function(t,r,e){"use strict";e.r(r);var n=e(0);e.d(r,"compare",function(){return n.a}),e.d(r,"equals",function(){return n.b}),e.d(r,"getNumberComparator",function(){return n.e}),e.d(r,"getStringComparator",function(){return n.f}),e.d(r,"getDateComparator",function(){return n.c}),e.d(r,"getDateEquality",function(){return n.d});var i=e(1);for(var o in i)["compare","equals","getNumberComparator","getStringComparator","getDateComparator","getDateEquality","default"].indexOf(o)<0&&function(t){e.d(r,t,function(){return i[t]})}(o);var u=e(2);e.d(r,"Iterate",function(){return u.a})}])});
//# sourceMappingURL=iteratez.js.map